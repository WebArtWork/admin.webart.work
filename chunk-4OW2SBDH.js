import{e as w}from"./chunk-WWPQF2Z3.js";import"./chunk-T45AOZZW.js";import{Bb as g,Ib as S,J as n,K as d,Kb as b,L as p,X as h,_ as u,bb as _,jb as v,kb as y,q as f,r as m,rb as C}from"./chunk-OOJB7QLQ.js";var k={formId:"parsefield",title:"Parsefield",components:[{name:"Text",key:"name",focused:!0,fields:[{name:"Placeholder",value:"fill parsefield title"},{name:"Label",value:"Title"}]},{name:"Text",key:"description",fields:[{name:"Placeholder",value:"fill parsefield description"},{name:"Label",value:"Description"}]}]};var j=(()=>{let e=class e extends C{constructor(){super({name:"parsefield"}),this.parsefields=this.getDocs(),this.parsefieldsByAuthor={},this.get(),this.filteredDocuments(this.parsefieldsByAuthor)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=f({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();var x=(()=>{let e=class e{get rows(){return this._parsefieldService.parsefields}constructor(o,i,t,a,l){this._translate=o,this._parsefieldService=i,this._alert=t,this._form=a,this._core=l,this.columns=["name","description"],this.form=this._form.prepareForm(k),this.config={create:()=>{this._form.modal(this.form,{label:"Create",click:(s,c)=>{this._preCreate(s),this._parsefieldService.create(s),c()}})},update:s=>{this._form.modal(this.form,[],s).then(c=>{this._core.copy(c,s),this._parsefieldService.update(s)})},delete:s=>{this._alert.question({text:this._translate.translate("Common.Are you sure you want to delete this parsefield?"),buttons:[{text:this._translate.translate("Common.No")},{text:this._translate.translate("Common.Yes"),callback:()=>{this._parsefieldService.delete(s)}}]})},buttons:[{icon:"cloud_download",click:s=>{this._form.modalUnique("parsefield","url",s)}}],headerButtons:[{icon:"playlist_add",click:this._bulkManagement(),class:"playlist"},{icon:"edit_note",click:this._bulkManagement(!1),class:"edit"}]}}_bulkManagement(o=!0){return()=>{this._form.modalDocs(o?[]:this.rows).then(i=>{if(o)for(let t of i)this._preCreate(t),this._parsefieldService.create(t);else{for(let t of this.rows)i.find(a=>a._id===t._id)||this._parsefieldService.delete(t);for(let t of i){let a=this.rows.find(l=>l._id===t._id);a?(this._core.copy(t,a),this._parsefieldService.update(a)):(this._preCreate(t),this._parsefieldService.create(t))}}})}}_preCreate(o){o.__created}};e.\u0275fac=function(i){return new(i||e)(n(g),n(j),n(v),n(b),n(y))},e.\u0275cmp=d({type:e,selectors:[["ng-component"]],standalone:!1,decls:1,vars:3,consts:[["title","Fields",3,"columns","config","rows"]],template:function(i,t){i&1&&u(0,"wtable",0),i&2&&h("columns",t.columns)("config",t.config)("rows",t.rows)},dependencies:[S],encapsulation:2});let r=e;return r})();var M=[{path:"",component:x}],z=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=p({type:e}),e.\u0275inj=m({imports:[_.forChild(M),w]});let r=e;return r})();export{z as FieldsModule};
